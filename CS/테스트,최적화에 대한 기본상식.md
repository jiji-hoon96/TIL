## 테스트

### 테스트를 하는 이유?

- 사람이 하는 테스트는 완벽하지 않기에
- 테스트 코드를 작성하는게 비용,시간 절감에 효율적
- 리팩토링을 보다 자유롭게 할수 있다.
- 배포에 대한 두려움이 사라짐, 높은 테스트 커버리지를 가진 서비스는 배포에 효율적

### 좋은 테스트란?

- 가능한 빠르게 동작하도록 작성
- 외부 API 는 Mocking 을 이용해 해결

<aside>
    
    💡 Mocking
    테스트를 독립시키기 위해 의존성을 개발자가 컨트롤하고 검사할 수 있는 Object 로 변환하는 테크닉
    JS 에서는 testdouble, sinon 과 같은 mocking 라이브러리가 있고, Jest 는 기본적으로 제공함
    
</aside>
    
- 어느 환경에서도 동일한 결과값을 보장해야 함
- 각각의 테스트는 독립적이고 의존적이지 않아야 함
- 실제 코드를 구현하기 전에 먼저 작성하는게 좋음
- 보다 상세하게 테스트 코드를 작성하는게 효율적
- Robert C Martin의 Clean Code 에 나오는 FIRST 규칙
    - Fast: 테스트는 빠르게 동작하여 자주 돌릴 수 있어야 한다.
    - Independent: 각각의 테스트는 독립적이며 서로 의존해서는 안된다.
    - Repeatable: 어느 환경에서도 반복 가능해야 한다.
    - Self-Validating: 테스트는 성공 또는 실패로 bool 값으로 결과를 내어 자체적으로 검증되어야 한다.
    - Timely: 테스트는 적시에 즉, 테스트하려는 실제 코드를 구현하기 직전에 구현해야 한다.

### 유닛테스트 vs 통합테스트 vs E2E테스트를 비교하여 설명해주세요

![img](https://blog.kakaocdn.net/dn/bgjtE2/btqvi4L10bI/c5a91Z3kbd5Vxq1ALAkMDk/img.jpg)

1. 유닛테스트(단위테스트, Unit Testing)
   - 하나의 모듈(하나의 기능, 하나의 파일)을 기준으로 독립적으로 진행되는 가장 작은 단위의 테스트
   - 코드 품질과 안정성을 높이는 것을 목적으로 함
   - 코드 수정시 다른 코드에 미칠 부작용,영향을 파악해 버그를 방지하고 개발자가 자신의 코드에 대한 확신을 할 수록 도와줌
   - Javascript 에서는 Jest, Mocha, jasmine 등의 유닛테스트 프레임워크를 주로 사용

- 통합테스트(Integration Testing)
  - 유닛테스트보다 더 큰 테스트 범위, 유닛들의 상호작용과 통합을 검증하는 과정
  - 모듈을 통합하는 과정에서 모듈 간의 호환성을 확인하기 위해 수행되는 테스트
  - 독립적인 기능이에 대한 테스트가 아닌 웹 페이지로부터 API를 호출하여 올바르게 동작하는지 테스트
  - Supertest, Superagent 등의 라이브러리를 이용해서 통합테스트가능

3. E2E테스트(End to End Testing)
   - 애플리케이션의 흐름을 개발자보단 사용자 관점에서 테스트
   - UI요소들에 대한 테스트도 포함
   - 애플리케이션의 흐름을 처음부터 끝까지 테스트하는 것
   - 유닛테스트와 통합테스트는 모듈의 무결성을 증명할 수 있지만 애플리케이션 동작의 무결성까지 증명할 수없어서 E2E 테스트과정에서 애플리케이션의 무결성을 증명
     > **무결성**
     > 신뢰할 수 있는 서비스 제공을 위해서 의도하지 않은 요인에 의해 데이터, 소프트웨어, 시스템 등이 변경되거나 손상되지 않고 완전성, 정확성, 일관성을 유지함을 보장하는 특성
   - JavaScript에서는 Cypress, Puppeteer 등의 E2E 테스트 도구를 사용

### 결론

유닛테스트는 개별적인 코드조각 테스트, 통합테스트는 유닛들의 상호작용을 테스트, e2e 테스트는 사용자관점의 어플리케이션 테스트

---

### 리액트 테스트에 사용되는 도구들을 비교하여 설명해주세요

1. Jest
   - 페이스북에서 개발한 JavaScript 테스트 프레임워크로, React 애플리케이션의 유닛 테스트를 위해 가장 널리 사용됨
   - 자동화된 테스트 실행, 코드 커버리지 측정, Snapshot 테스팅 등을 지원
   - React의 테스트 유틸리티인 **react-testing-library**와 함께 사용하면, React 컴포넌트의 렌더링과 상태를 테스트하는데 효율적
2. react-testing-library
   - React 컴포넌트를 테스트하기 위한 유용한 도구
   - 사용자의 관점에서 컴포넌트를 테스트하는 것을 장려하며, 실제 DOM 요소가 아닌 컴포넌트의 인터페이스와 상호작용을 테스트
   - React 컴포넌트를 렌더링하고 해당 컴포넌트의 상태나 이벤트를 테스트하는 데 사용
3. React Testing Utilities
   - **TestRenderer**나 **ReactDOM.create()**와 같은 유틸리티들을 사용하여 React 컴포넌트를 렌더링하고, 컴포넌트의 상태를 검증하거나 이벤트를 시뮬레이션할 수 있음
4. Enzyme
   - Airbnb에서 개발한 React 컴포넌트를 테스트하기 위한 JavaScript 라이브러리
   - 컴포넌트의 쉬운 렌더링, 상태 및 프로퍼티 접근, 이벤트 시뮬레이션 등을 제공하여 React 컴포넌트를 테스트하기 편리하게 만들어줌
5. Cypress
   - E2E(End-to-End) 테스트를 위한 자동화 도구로서, React 애플리케이션의 전체적인 동작을 테스트하는 데 사용
   - 브라우저에서 실제 사용자처럼 동작하면서 테스트를 수행하므로, 사용자 경험 측면에서의 문제를 발견하는 데 유용
6. 리덕스 상태관리 라이브러리 (redux-mock-store)

<aside>
    
    💡 ** react-testing-libary & Jest **
     react-testing-library는 Test Runner이 아니다 
     Jest 는 Test runner 이라서 두개의 도구를 상용한다.
     Test Runner : 테스트 스크립트를 실행하고 테스트 결과를 보고하는 도구

</aside>

---

## 최적화

### CDN(Content Distributed Network)에 대해 설명해주세요

- 지리적 제약 없이 전 세계 사용자에게 빠르고 안전하게 콘텐츠를 전송할 수 있는 콘텐츠 전송 기술
- 서버와 사용자 사이의 물리적인 거리를 줄여 콘텐츠 로딩에 소요되는 시간을 최소화
- 원본서버가 아닌 캐시 서버가 콘텐츠를 제공

### Web Vitals에 대해 설명해주세요

- 사용자 경험 측정 지표
- 웹 성능 평가에 도움을 주는 google 의 프로젝트
- 웹 페이지가 사용자에게 얼마나 빠르고, 반응적이며, 부드럽게 작동하는지 평가하는데 사용
- 3가지 주요 지표로 구성
  - Largest Contentful Paint (LCP)
    - LCP는 페이지의 로딩 성능을 측정하는 지표
    - 페이지에 표시되는 가장 큰 콘텐츠 요소가 얼마나 빨리 로드되는지를 측정
    - 사용자가 페이지에 접속하고 해당 콘텐츠가 완전히 로드될 때까지 걸리는 시간을 측정하여, 페이지 로딩의 경험을 평가
  - First Input Delay (FID)
    - FID는 페이지와 사용자 상호 작용 사이의 반응성을 측정하는 지표
    - 사용자가 처음으로 상호 작용한 시점부터 페이지가 실제로 해당 상호 작용에 응답하는 데까지 걸리는 시간을 측정
    - 버튼 클릭 또는 링크 클릭과 같은 사용자 입력에 대한 응답 속도를 측정
  - Cumulative Layout Shift
    - CLS는 페이지의 시각적 안정성을 측정하는 지표
    - 페이지가 로드되는 동안 레이아웃의 예기치 않은 이동 정도를 평가
    - 페이지의 요소들이 로드되는 동안 위치를 바꾸거나 이동하여 사용자가 의도하지 않은 클릭을 하게 만드는 것을 방지하기 위해 중요

### Lighthouse에 대해 설명해주세요

- google 에서 개발한 오픈 소스 웹 성능 평가 도구
- 웹 사이트 최적화에 도움을 줌
- Web Vitals 지표를 표함하고 있음
- 크롬 브라우저의 확장 프로그램
- 4가지의 카테고리를 기반으로 웹 페이지를 평가함
  - 성능 (Performance)
    - 웹 페이지의 로딩 속도와 관련된 지표를 평가
    - 웹 Vitals 지표 중 Largest Contentful Paint (LCP), First Input Delay (FID), Cumulative Layout Shift (CLS)를 확인할 수 있음
    - 페이지 로드 시간, 리소스 최적화, 캐시 활용 등 성능 관련 문제를 분석할 수 있음
  - 접근성 (Accessibility)
    - 웹 페이지가 접근 가능하고 장애인들도 사용할 수 있도록 설계되었는지를 평가
    - 웹 접근성 준수를 위한 검사 사항들을 제시하고, 보조 기술 사용자를 위한 웹 접근성 문제를 파악할 수 있음
  - 최적화 (Best Practices)
    - 웹 개발에서 권장되는 베스트 프랙티스를 준수하는지를 평가
    - HTTPS 사용 여부, 적절한 콘텐츠 유형 설정, 보안 관련 문제 등을 검사
  - SEO (Search Engine Optimization)
    - 검색 엔진 최적화 측면에서 웹 페이지가 얼마나 잘 준비되었는지를 평가
    - 검색 엔진에서 페이지가 검색 결과에 잘 표시되도록 돕기 위한 가이드를 제공
